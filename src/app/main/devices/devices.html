<md-content ng-cloak flex layout-padding>
    <md-list>
        <md-subheader class="md-no-sticky">Particle</md-subheader>
        <md-list-item>
            <md-input-container flex>
                <label>Access Token</label>
                <input type="text" ng-model="devices.accountInfo.particleAccessToken" />
            </md-input-container>
            <md-button class="md-fab md-mini md-ink-ripple"
                       ng-class="devices.particleAccessTokenValid ? 'md-accent':'md-warn'"
                       ng-disabled="!devices.accountInfo.particleAccessToken"
                       aria-label="Test access token"
                       ng-click="devices.getDevices(devices.accountInfo.particleAccessToken)">
                <md-icon>{{ devices.particleAccessTokenValid ? 'done' : 'clear' }}</md-icon>
            </md-button>
        </md-list-item>

        <md-list-item ng-repeat="particleDevice in devices.particleDeviceList">
            <md-icon>{{ particleDevice.connected ? 'cloud_on' : 'cloud_off'}}</md-icon>
            <div class="md-list-item-text">
                <h3>{{particleDevice.name}}</h3>
                <p>{{particleDevice.id}}</p>
            </div>
            <md-switch class="md-secondary" ng-model="devices.particles[particleDevice.id].selected"></md-switch>
        </md-list-item>
    </md-list>
</md-content>
